{% extends "admin/base.html" %}
{% load i18n %}

{% block title %}{{ title }} | Edoc Admin{% endblock %}

{% block branding %}
<h1 id="site-name"><a href="{% url 'admin:index' %}">Edoc Admin</a></h1>
{% endblock %}

{% block userlinks %}
<form action="{% url 'set_language' %}" method="post" style="display: inline; margin-right: 15px;">
    {% csrf_token %}
    <input name="next" type="hidden" value="{{ request.get_full_path }}">
    <select name="language" onchange="this.form.submit()" style="padding: 3px 8px; border-radius: 4px; border: 1px solid #ccc; font-size: 12px; cursor: pointer;">
        {% get_current_language as LANGUAGE_CODE %}
        {% get_available_languages as LANGUAGES %}
        {% for lang_code, lang_name in LANGUAGES %}
            <option value="{{ lang_code }}" {% if lang_code == LANGUAGE_CODE %}selected{% endif %}>{{ lang_name }}</option>
        {% endfor %}
    </select>
</form>
{{ block.super }}
{% endblock %}
